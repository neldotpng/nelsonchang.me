{"ast":null,"code":"import _classCallCheck from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nelson/GitHub/nelsonchang.me/src/Transition.js\";\nimport React, { Component } from 'react';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { Waypoint } from 'react-waypoint';\nimport cx from 'classnames';\nimport ShapeOverlays from './components/ShapeOverlays';\nimport Nav from './components/Nav';\nimport TextCanvas from './components/TextCanvas';\n\nvar Transition =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Transition, _Component);\n\n  function Transition() {\n    var _this;\n\n    _classCallCheck(this, Transition);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Transition).call(this));\n    _this.state = {\n      isAnimatedIn: true,\n      animateInOut: false,\n      bgText: '',\n      bgOffset: -25,\n      ctaOffset: 9999,\n      notAtTopOrBottom: false,\n      hasBackground: false\n    };\n\n    _this.checkPage = function (location) {\n      if (location === '/') {\n        _this.setState({\n          isHomePage: true,\n          isCaseStudy: false,\n          bgOffset: -9999,\n          ctaOffset: 9999\n        });\n      } else if (location === '/about') {\n        _this.setState({\n          isHomePage: false,\n          isCaseStudy: false,\n          bgOffset: -25,\n          ctaOffset: 9999\n        });\n      } else {\n        setTimeout(function () {\n          _this.setState({\n            isHomePage: false,\n            isCaseStudy: true,\n            bgOffset: -25,\n            ctaOffset: -175\n          });\n        }, 900);\n      }\n    };\n\n    _this.getBgText = function (str) {\n      setTimeout(function () {\n        _this.setState({\n          bgText: str\n        });\n      }, 500);\n    };\n\n    _this.onBottomEnter = function () {\n      if (_this.props.location !== '/' && _this.props.location !== '/about') {\n        _this.setState({\n          animateInOut: true,\n          notAtTopOrBottom: false,\n          hasBackground: false\n        });\n\n        _this.ref.current.onScrollToBottom();\n\n        document.body.classList.add('is-showing-next');\n        setTimeout(function () {\n          _this.setState({\n            animateInOut: false\n          });\n        }, 500);\n      }\n    };\n\n    _this.onBottomExit = function () {\n      if (_this.props.location !== '/' && _this.props.location !== '/about') {\n        _this.setState({\n          animateInOut: true,\n          notAtTopOrBottom: true,\n          hasBackground: true\n        });\n\n        _this.ref.current.onScrollUp();\n\n        document.body.classList.remove('is-showing-next');\n        setTimeout(function () {\n          _this.setState({\n            animateInOut: false\n          });\n        }, 500);\n      }\n    };\n\n    _this.removeBackground = function () {\n      _this.setState({\n        hasBackground: false,\n        notAtTopOrBottom: false\n      });\n    };\n\n    _this.addBackground = function () {\n      _this.setState({\n        hasBackground: true,\n        notAtTopOrBottom: true\n      });\n    };\n\n    _this.ref = React.createRef();\n    return _this;\n  }\n\n  _createClass(Transition, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps.location !== this.props.location) {\n        document.body.classList.add('no-scroll');\n        document.body.classList.remove('is-showing-next');\n        setTimeout(function () {\n          document.body.classList.remove('no-scroll');\n\n          _this2.checkPage(_this2.props.location);\n\n          _this2.setState({\n            notAtTopOrBottom: false\n          });\n        }, 700);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.checkPage(this.props.location);\n      document.body.classList.add('no-scroll');\n      setTimeout(function () {\n        _this3.setState({\n          isAnimatedIn: false\n        });\n      }, 400);\n      setTimeout(function () {\n        document.body.classList.remove('no-scroll');\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var wrapper = cx(\"wrapper\", {\n        \"should-animate-in-out\": this.state.animateInOut,\n        \"has-background\": this.state.notAtTopOrBottom && this.state.hasBackground\n      });\n      var logo = cx(\"transition__logo\", {\n        \"should-animate-out\": !this.state.isAnimatedIn\n      });\n      return [React.createElement(ShapeOverlays, {\n        customClass: \"transitionOverlay\",\n        isAnimatedIn: this.state.isAnimatedIn,\n        duration: 800,\n        key: \"Overlay\",\n        startOpen: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        className: logo,\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 100 100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"OVERLAP_3_\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        id: \"XMLID_539_\",\n        className: \"st0\",\n        d: \"M0-.1h100V7H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_538_\",\n        className: \"st0\",\n        d: \"M13.3 13.1H100v7.1H13.3z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_537_\",\n        className: \"st0\",\n        d: \"M0 79.4h86.7v7.1H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_536_\",\n        className: \"st0\",\n        d: \"M0 92.6h100v7.1H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_535_\",\n        className: \"st0\",\n        d: \"M13.3 23.3V13.1h7.2v10.2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_534_\",\n        className: \"st0\",\n        d: \"M7.2 49.9v23.4H0V49.9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_533_\",\n        className: \"st0\",\n        d: \"M0 23.3V-.1h7.2v23.4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_532_\",\n        className: \"st0\",\n        d: \"M20.5 49.9V60h-7.2V49.9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_531_\",\n        className: \"st0\",\n        d: \"M100 76.5v23.4h-7.1V76.5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_530_\",\n        className: \"st0\",\n        d: \"M92.9 49.7V26.4h7.1v23.3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_529_\",\n        className: \"st0\",\n        d: \"M86.8 76.5v10h-7.2v-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        id: \"XMLID_528_\",\n        className: \"st0\",\n        d: \"M79.6 49.7V39.6h7.2v10.1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"g\", {\n        id: \"_x34__3_\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        id: \"XMLID_19_\",\n        className: \"st0\",\n        d: \"M0 66.1h100v7.1H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"g\", {\n        id: \"_x33__3_\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        id: \"XMLID_17_\",\n        className: \"st0\",\n        d: \"M13.3 52.9H100V60H13.3z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"g\", {\n        id: \"_x32__3_\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        id: \"XMLID_15_\",\n        className: \"st0\",\n        d: \"M0 39.6h86.7v7.1H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"g\", {\n        id: \"_x31__3_\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        id: \"XMLID_13_\",\n        className: \"st0\",\n        d: \"M0 26.4h100v7.1H0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))))), React.createElement(Nav, {\n        key: \"Nav\",\n        location: this.props.location,\n        removeBackground: this.removeBackground,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Waypoint, {\n        key: \"Top\",\n        onEnter: this.removeBackground,\n        onLeave: this.addBackground,\n        topOffset: this.state.bgOffset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"Wrapper\",\n        key: \"Wrapper\",\n        className: wrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrapper__bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrapper__bgText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.bgText)), React.createElement(TextCanvas, {\n        location: this.props.location,\n        getBgText: this.getBgText,\n        ref: this.ref,\n        setHasBackground: function setHasBackground(bool) {\n          return _this4.setState({\n            hasBackground: bool\n          });\n        },\n        notAtTopOrBottom: this.state.notAtTopOrBottom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(TransitionGroup, {\n        component: \"article\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(CSSTransition, {\n        key: this.props.location,\n        in: true,\n        classNames: \"Transition\",\n        timeout: 900,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.props.children))), React.createElement(Waypoint, {\n        key: \"Bottom\",\n        onEnter: this.onBottomEnter,\n        onLeave: this.onBottomExit,\n        bottomOffset: this.state.ctaOffset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })];\n    }\n  }]);\n\n  return Transition;\n}(Component);\n\nexport default Transition;","map":{"version":3,"sources":["/Users/Nelson/GitHub/nelsonchang.me/src/Transition.js"],"names":["React","Component","TransitionGroup","CSSTransition","Waypoint","cx","ShapeOverlays","Nav","TextCanvas","Transition","state","isAnimatedIn","animateInOut","bgText","bgOffset","ctaOffset","notAtTopOrBottom","hasBackground","checkPage","location","setState","isHomePage","isCaseStudy","setTimeout","getBgText","str","onBottomEnter","props","ref","current","onScrollToBottom","document","body","classList","add","onBottomExit","onScrollUp","remove","removeBackground","addBackground","createRef","prevProps","wrapper","logo","bool","children"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { Waypoint } from 'react-waypoint';\nimport cx from 'classnames';\n\nimport ShapeOverlays from './components/ShapeOverlays';\nimport Nav from './components/Nav';\nimport TextCanvas from './components/TextCanvas';\n\nclass Transition extends Component {\n  constructor() {\n    super();\n    this.ref = React.createRef();\n  }\n\n  state = {\n    isAnimatedIn: true,\n    animateInOut: false,\n    bgText: '',\n    bgOffset: -25,\n    ctaOffset: 9999,\n    notAtTopOrBottom: false,\n    hasBackground: false,\n  }\n\n  checkPage = (location) => {\n    if (location === '/') {\n      this.setState({\n        isHomePage: true,\n        isCaseStudy: false,\n        bgOffset: -9999,\n        ctaOffset: 9999,\n      });\n    } else if (location === '/about') {\n      this.setState({\n        isHomePage: false,\n        isCaseStudy: false,\n        bgOffset: -25,\n        ctaOffset: 9999,\n      });\n    } else {\n      setTimeout(() => {\n        this.setState({\n          isHomePage: false,\n          isCaseStudy: true,\n          bgOffset: -25,\n          ctaOffset: -175,\n        });\n      }, 900);\n    }\n  }\n\n  getBgText = (str) => {\n    setTimeout(() => {\n      this.setState({ bgText: str });\n    }, 500);\n  }\n\n  onBottomEnter = () => {\n    if (this.props.location !== '/' && this.props.location !== '/about') {\n      this.setState({\n        animateInOut: true,\n        notAtTopOrBottom: false,\n        hasBackground: false,\n      });\n      this.ref.current.onScrollToBottom();\n      document.body.classList.add('is-showing-next');\n\n      setTimeout(() => {\n        this.setState({ animateInOut: false });\n      }, 500);\n    }\n  }\n\n  onBottomExit = () => {\n    if (this.props.location !== '/' && this.props.location !== '/about') {\n      this.setState({\n        animateInOut: true,\n        notAtTopOrBottom: true,\n        hasBackground: true,\n      });\n      this.ref.current.onScrollUp();\n      document.body.classList.remove('is-showing-next');\n\n      setTimeout(() => {\n        this.setState({ animateInOut: false });\n      }, 500);\n    }\n  }\n\n  removeBackground = () => {\n    this.setState({ \n      hasBackground: false,\n      notAtTopOrBottom: false,\n    });\n  }\n\n  addBackground = () => {\n    this.setState({\n      hasBackground: true,\n      notAtTopOrBottom: true,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.location !== this.props.location) {\n      document.body.classList.add('no-scroll');\n      document.body.classList.remove('is-showing-next');\n\n      setTimeout(() => {\n        document.body.classList.remove('no-scroll');\n        this.checkPage(this.props.location);\n        this.setState({ notAtTopOrBottom: false });\n      }, 700);\n    }\n  }\n\n  componentDidMount() {\n    this.checkPage(this.props.location);\n    document.body.classList.add('no-scroll');\n\n    setTimeout(() => {\n      this.setState({ isAnimatedIn: false });\n    }, 400);\n\n    setTimeout(() => {\n      document.body.classList.remove('no-scroll');\n    }, 2000);\n  }\n\n  render() {\n    const wrapper = cx(\"wrapper\", {\n      \"should-animate-in-out\": this.state.animateInOut,\n      \"has-background\": this.state.notAtTopOrBottom && this.state.hasBackground,\n    });\n\n    const logo = cx(\"transition__logo\", {\n      \"should-animate-out\": !this.state.isAnimatedIn,\n    });\n\n    return [\n      <ShapeOverlays\n        customClass={\"transitionOverlay\"}\n        isAnimatedIn={this.state.isAnimatedIn}\n        duration={800}\n        key=\"Overlay\"\n        startOpen={true}>\n        <svg className={logo} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><g id=\"OVERLAP_3_\"><path id=\"XMLID_539_\" className=\"st0\" d=\"M0-.1h100V7H0z\"/><path id=\"XMLID_538_\" className=\"st0\" d=\"M13.3 13.1H100v7.1H13.3z\"/><path id=\"XMLID_537_\" className=\"st0\" d=\"M0 79.4h86.7v7.1H0z\"/><path id=\"XMLID_536_\" className=\"st0\" d=\"M0 92.6h100v7.1H0z\"/><path id=\"XMLID_535_\" className=\"st0\" d=\"M13.3 23.3V13.1h7.2v10.2\"/><path id=\"XMLID_534_\" className=\"st0\" d=\"M7.2 49.9v23.4H0V49.9\"/><path id=\"XMLID_533_\" className=\"st0\" d=\"M0 23.3V-.1h7.2v23.4\"/><path id=\"XMLID_532_\" className=\"st0\" d=\"M20.5 49.9V60h-7.2V49.9\"/><path id=\"XMLID_531_\" className=\"st0\" d=\"M100 76.5v23.4h-7.1V76.5\"/><path id=\"XMLID_530_\" className=\"st0\" d=\"M92.9 49.7V26.4h7.1v23.3\"/><path id=\"XMLID_529_\" className=\"st0\" d=\"M86.8 76.5v10h-7.2v-10\"/><path id=\"XMLID_528_\" className=\"st0\" d=\"M79.6 49.7V39.6h7.2v10.1\"/><g id=\"_x34__3_\"><path id=\"XMLID_19_\" className=\"st0\" d=\"M0 66.1h100v7.1H0z\"/></g><g id=\"_x33__3_\"><path id=\"XMLID_17_\" className=\"st0\" d=\"M13.3 52.9H100V60H13.3z\"/></g><g id=\"_x32__3_\"><path id=\"XMLID_15_\" className=\"st0\" d=\"M0 39.6h86.7v7.1H0z\"/></g><g id=\"_x31__3_\"><path id=\"XMLID_13_\" className=\"st0\" d=\"M0 26.4h100v7.1H0z\"/></g></g></svg>\n      </ShapeOverlays>,\n      <Nav\n        key=\"Nav\"\n        location={this.props.location}\n        removeBackground={this.removeBackground} />,\n      <Waypoint\n        key=\"Top\"\n        onEnter={this.removeBackground}\n        onLeave={this.addBackground}\n        topOffset={this.state.bgOffset} />,\n      <div\n        id=\"Wrapper\"\n        key=\"Wrapper\"\n        className={wrapper}>\n        <div className=\"wrapper__bg\">\n          <div className=\"wrapper__bgText\">\n            {this.state.bgText}\n          </div>\n        </div>\n        <TextCanvas\n          location={this.props.location}\n          getBgText={this.getBgText}\n          ref={this.ref}\n          setHasBackground={(bool) => this.setState({ hasBackground: bool })}\n          notAtTopOrBottom={this.state.notAtTopOrBottom}\n        />\n        <TransitionGroup component=\"article\">\n          <CSSTransition\n            key={this.props.location}\n            in={true}\n            classNames=\"Transition\"\n            timeout={900}>\n            {this.props.children}\n          </CSSTransition>\n        </TransitionGroup>\n      </div>,\n      <Waypoint\n        key=\"Bottom\"\n        onEnter={this.onBottomEnter}\n        onLeave={this.onBottomExit}\n        bottomOffset={this.state.ctaOffset} />\n    ]\n  }\n}\n\nexport default Transition;\n"]},"metadata":{},"sourceType":"module"}