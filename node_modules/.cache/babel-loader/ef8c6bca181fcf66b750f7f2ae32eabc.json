{"ast":null,"code":"import _classCallCheck from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nelson/GitHub/nelsonchang.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nelson/GitHub/nelsonchang.me/src/components/IC.js\";\nimport React, { Component } from 'react';\nimport cx from 'classnames';\nimport { Waypoint } from 'react-waypoint';\n\nvar IC =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IC, _Component);\n\n  function IC() {\n    var _this;\n\n    _classCallCheck(this, IC);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IC).call(this));\n    _this.state = {\n      isLoaded: false,\n      isVisible: false\n    };\n\n    _this.getImage = function (src) {\n      var image = new Image();\n      image.alt = _this.props.alt;\n      image.src = src;\n\n      image.onload = function () {\n        _this.setState({\n          isLoaded: true\n        });\n      };\n\n      _this.elem.current.appendChild(image);\n    };\n\n    _this.onEnter = function () {\n      if (_this.props.waypoint) {\n        _this.setState({\n          isVisible: true\n        });\n      }\n    };\n\n    _this.elem = React.createRef();\n    return _this;\n  }\n\n  _createClass(IC, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getImage(this.props.src);\n      setTimeout(function () {\n        _this2.setState({\n          isVisible: false\n        });\n      }, 900);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = cx(this.props.customClass, 'image', {\n        'is-visible': this.state.isLoaded && this.state.isVisible\n      });\n      return React.createElement(Waypoint, {\n        scrollableAncestor: window,\n        onEnter: this.onEnter,\n        bottomOffset: \"200px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes,\n        ref: this.elem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return IC;\n}(Component);\n\nexport default IC;","map":{"version":3,"sources":["/Users/Nelson/GitHub/nelsonchang.me/src/components/IC.js"],"names":["React","Component","cx","Waypoint","IC","state","isLoaded","isVisible","getImage","src","image","Image","alt","props","onload","setState","elem","current","appendChild","onEnter","waypoint","createRef","setTimeout","classes","customClass","window"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,YAAf;AAEA,SAASC,QAAT,QAAyB,gBAAzB;;IAEMC,E;;;;;AACJ,gBAAc;AAAA;;AAAA;;AACZ;AADY,UAKdC,KALc,GAKN;AACNC,MAAAA,QAAQ,EAAE,KADJ;AAENC,MAAAA,SAAS,EAAE;AAFL,KALM;;AAAA,UAUdC,QAVc,GAUH,UAACC,GAAD,EAAS;AAClB,UAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;AAEAD,MAAAA,KAAK,CAACE,GAAN,GAAY,MAAKC,KAAL,CAAWD,GAAvB;AACAF,MAAAA,KAAK,CAACD,GAAN,GAAYA,GAAZ;;AAEAC,MAAAA,KAAK,CAACI,MAAN,GAAe,YAAM;AACnB,cAAKC,QAAL,CAAc;AACZT,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD,OAJD;;AAMA,YAAKU,IAAL,CAAUC,OAAV,CAAkBC,WAAlB,CAA8BR,KAA9B;AACD,KAvBa;;AAAA,UAyBdS,OAzBc,GAyBJ,YAAM;AACd,UAAI,MAAKN,KAAL,CAAWO,QAAf,EAAyB;AACvB,cAAKL,QAAL,CAAc;AACZR,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD;AACF,KA/Ba;;AAEZ,UAAKS,IAAL,GAAYhB,KAAK,CAACqB,SAAN,EAAZ;AAFY;AAGb;;;;wCA8BmB;AAAA;;AAClB,WAAKb,QAAL,CAAc,KAAKK,KAAL,CAAWJ,GAAzB;AACAa,MAAAA,UAAU,CAAC,YAAM;AACf,QAAA,MAAI,CAACP,QAAL,CAAc;AAAER,UAAAA,SAAS,EAAE;AAAb,SAAd;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;;;6BAEQ;AACP,UAAMgB,OAAO,GAAGrB,EAAE,CAAC,KAAKW,KAAL,CAAWW,WAAZ,EAAyB,OAAzB,EAAkC;AAClD,sBAAc,KAAKnB,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWE;AADE,OAAlC,CAAlB;AAIA,aACE,oBAAC,QAAD;AACE,QAAA,kBAAkB,EAAEkB,MADtB;AAEE,QAAA,OAAO,EAAE,KAAKN,OAFhB;AAGE,QAAA,YAAY,EAAC,OAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AAAK,QAAA,SAAS,EAAEI,OAAhB;AAAyB,QAAA,GAAG,EAAE,KAAKP,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF;AAQD;;;;EAtDcf,S;;AAyDjB,eAAeG,EAAf","sourcesContent":["import React, { Component } from 'react';\nimport cx from 'classnames';\n\nimport { Waypoint } from 'react-waypoint';\n\nclass IC extends Component {\n  constructor() {\n    super();\n    this.elem = React.createRef();\n  }\n\n  state = {\n    isLoaded: false,\n    isVisible: false,\n  }\n\n  getImage = (src) => {\n    const image = new Image();\n\n    image.alt = this.props.alt;\n    image.src = src;\n\n    image.onload = () => {\n      this.setState({\n        isLoaded: true,\n      });\n    }\n\n    this.elem.current.appendChild(image);\n  }\n\n  onEnter = () => {\n    if (this.props.waypoint) {\n      this.setState({\n        isVisible: true,\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getImage(this.props.src);\n    setTimeout(() => {\n      this.setState({ isVisible: false });\n    }, 900);\n  }\n\n  render() {\n    const classes = cx(this.props.customClass, 'image', {\n      'is-visible': this.state.isLoaded && this.state.isVisible,\n    });\n\n    return (\n      <Waypoint\n        scrollableAncestor={window}\n        onEnter={this.onEnter}\n        bottomOffset=\"200px\">\n        <div className={classes} ref={this.elem} />\n      </Waypoint>\n    );\n  }\n}\n\nexport default IC;\n"]},"metadata":{},"sourceType":"module"}